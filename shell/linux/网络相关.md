<!-- cSpell:ignore HWaddr -->
## 🍕 `service network restart` 时报错

报错信息:
```
Bringing up interface eth0:  Error: No suitable device found: no device found for connection 'System eth0'.
```

搜索到的相关文章
- https://blog.csdn.net/temphy/article/details/77524732
- https://blog.csdn.net/seven_zhao/article/details/43429571
- https://debugah.com/bringing-up-interface-eth0-error-no-suitable-device-found-no-device-found-for-connection-system-eth0-failed-23769/

涉及到的文件有:
- `/etc/udev/rules.d/70-persistent-net.rules`
- `/etc/sysconfig/network-scripts/` 文件夹中的 `ifcfg-eth` 开头的文件

涉及到的命令有
- `ifconfig`
- `uuidgen` 输出一个系统内的唯一标识
- `nmcli con list` 可查看 UUID; 执行失败时试试将 list 换成 show
- `nmcli dev list` 可查看 MAC; 执行失败时试试将 list 换成 show
- `service network restart` 重启

解决:
1. 执行命令 `ifconfig`, 获取正确的 `HWaddr`
2. 用正确的 `HWaddr` 替换 `vim /etc/sysconfig/network-scripts/ifcfg-eth0` 中的 `HWaddr`
3. 再次执行 `service network restart`, 无报错
4. 执行 `ifconfig`, 依旧显示 eth1, 而不是 eth0
5. `rm /etc/udev/rules.d/70-persistent-net.rules`
6. 重启系统, 再次执行 `ifconfig` 成功出现 eth0, 但没有 `ipv4` 地址
7. 等待一下, 再次执行 `ifconfig`, 成功出现 `ipv4` 地址

总结
- `UUID` 只作用于系统内, 确保每个网卡的 `UUID` 唯一即可。通过 `uuidgen` 命令可生成系统内的唯一标识
- `/etc/udev/rules.d/70-persistent-net.rules` 可以删除, 重启系统会自动重新生成
- linux 中一切皆文件, `ifcfg-eth0` 就相当于 `以太网0`
- 使用虚拟机克隆新系统时, 往往会在网卡部分出现问题, 因为 MAC 地址改变了
